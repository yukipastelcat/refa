include inputs/_abstract.pug
include inputs/_address.pug
include inputs/_annote.pug
include inputs/_author.pug
include inputs/_booktitle.pug
include inputs/_chapter.pug
include inputs/_crossref.pug
include inputs/_edition.pug
include inputs/_editor.pug
include inputs/_eprint.pug
include inputs/_howpublished.pug
include inputs/_institution.pug
include inputs/_journal.pug
include inputs/_month.pug
include inputs/_label.pug
include inputs/_note.pug
include inputs/_number.pug
include inputs/_organisation.pug
include inputs/_pages.pug
include inputs/_publisher.pug
include inputs/_pubtype.pug
include inputs/_school.pug
include inputs/_series.pug
include inputs/_title.pug
include inputs/_type.pug
include inputs/_volume.pug
include inputs/_year.pug
include inputs/_file.pug

mixin publication(publication)
    form.publication
            fieldset
                legend Тип публикации и метка
                +input_pubtype(publication.bib_type)
                +input_label(publication.entry_key)
            if publication.bib_type === 'article'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_journal(publication.fields.journaltitle)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_volume(publication.fields.volume)
                    +input_number(publication.fields.number)
                    +input_pages(publication.fields.pages)
                    +input_note(publication.fields.note)
                    +input_abstract(publication.fields.abstract)
            if publication.bib_type === 'book'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_editor(publication.fields.editor)
                    +input_title(publication.fields.title)
                    +input_publisher(publication.fields.publisher)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_volume(publication.fields.volume)
                    +input_series(publication.fields.series)
                    +input_address(publication.fields.location)
                    +input_edition(publication.fields.edition)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
                    +input_pages(publication.fields.pages)
                    +input_abstract(publication.fields.abstract)
            if publication.bib_type === 'booklet'
                fieldset
                    legend Обязательные поля
                    +input_title(publication.fields.title)
                fieldset
                    legend Дополнительные поля
                    +input_author(publication.fields.author)
                    +input_howpublished(publication.fields.howpublished)
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'inbook'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_editor(publication.fields.editor)
                    +input_title(publication.fields.title)
                    +input_chapter(publication.fields.chapter)
                    +input_pages(publication.fields.pages)
                    +input_publisher(publication.fields.publisher)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_volume(publication.fields.volume)
                    +input_series(publication.fields.series)
                    +input_address(publication.fields.location)
                    +input_edition(publication.fields.edition)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'incollection'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_booktitle(publication.fields.booktitle)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_editor(publication.fields.editor)
                    +input_pages(publication.fields.pages)
                    +input_publisher(publication.fields.publisher)
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'inproceedings'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_booktitle(publication.fields.booktitle)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_editor(publication.fields.editor)
                    +input_series(publication.fields.series)
                    +input_pages(publication.fields.pages)
                    +input_organisation(publication.fields.organization)
                    +input_publisher(publication.fields.publisher)
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'manual'        
                fieldset
                    legend Обязательные поля
                    +input_title(publication.fields.title)
                fieldset
                    legend Дополнительные поля
                    +input_author(publication.fields.author)
                    +input_organisation(publication.fields.organization)
                    +input_address(publication.fields.location)
                    +input_edition(publication.fields.edition)
                    +input_month(publication.fields.date)
                    +input_year(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'thesis'        
                fieldset
                    legend Обязательные поля
                    +input_title(publication.fields.title)
                    +input_author(publication.fields.author)
                    +input_school(publication.fields.institution)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'misc'
                fieldset
                    legend Дополнительные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_howpublished(publication.fields.howpublished)
                    +input_month(publication.fields.date)
                    +input_year(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'proceedings'
                fieldset
                    legend Обязательные поля
                    +input_title(publication.fields.title)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_editor(publication.fields.editor)
                    +input_publisher(publication.fields.publisher)
                    +input_organisation(publication.fields.organization)
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'report'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_institution(publication.fields.institution)
                    +input_year(publication.fields.date)
                fieldset
                    legend Дополнительные поля
                    +input_number(publication.fields.number)
                    +input_address(publication.fields.location)
                    +input_month(publication.fields.date)
                    +input_note(publication.fields.note)
            if publication.bib_type === 'unpublished'
                fieldset
                    legend Обязательные поля
                    +input_author(publication.fields.author)
                    +input_title(publication.fields.title)
                    +input_note(publication.fields.note)
                fieldset
                    legend Дополнительные поля
                    +input_month(publication.fields.date)
                    +input_year(publication.fields.date)
            if (publication.unexpected_fields)
                fieldset
                    legend Нестандартные поля
                    each value, name in publication.unexpected_fields
                        case name
                            when 'abstract'
                                +input_abstract(value)
                            when 'annote'
                                +input_annote(value)
                            when 'author'
                                +input_author(value)
                            when 'booktitle'
                                +input_booktitle(value)
                            when 'chapter'
                                +input_chapter(value)
                            when 'crossref'
                                +input_crossref(value)
                            when 'edition'
                                +input_edition(value)
                            when 'editor'
                                +input_editor(value)
                            when 'eprint'
                                +input_eprint(value)
                            when 'howpublished'
                                +input_howpublished(value)
                            when 'institution'
                                +input_institution(value)
                            when 'journal'
                                +input_journal(value)
                            when 'note'
                                +input_note(value)
                            when 'number'
                                +input_number(value)
                            when 'organization'
                                +input_organisation(value)
                            when 'pages'
                                +input_pages(value)
                            when 'publisher'
                                +input_publisher(value)
                            when 'series'
                                +input_series(value)
                            when 'title'
                                +input_title(value)
                            when 'type'
                                +input_type(value)
                            when 'volume'
                                +input_volume(value)
                            when 'file'
                                +input_file(value)